# 1 Million Women To Tech 

## Week 10 Virtual reality

## Day 2


Today we will cover

* Basic Scripting in unity
* Position and orientation transformation of objects in realtime
* Identify when and object is in front of our view and run some function on them
* Include dynamic behaviour on objects (gravity, mass, drag, forces)

















#### Create some interaction scripts.

Before starting, be sure that you saved a copy of your current scene as a new one. It is good practice and it helps you keeps track of your progress

**Optional** : Setup your text editor to monodevelop. 
Most of unity documentation and community support use C#
<br /> 

* Lets create the script from the objects Inspector 

* Be careful when you name your folders .  https://docs.unity3d.com/Manual/ScriptCompileOrderFolders.html


### The Monobehaviour class
Note that when you create a new C# script, this will inherit from the monobehaviour class.Probably 90% of the times, our scripts will inherit form  the Monobehaviour script class. This has some reserved names for functions that we can implement:
Unity execution Order of events : https://docs.unity3d.com/Manual/ExecutionOrder.html <br /> 
Lets test this with Logs - Unity console
Even though a unity script will be autogenerated only with some default constructors for the start and Update function, all of the available functions in the excecution order will be called at runtime. 

The most common are 
* Start() : *called before the first frame update only if the script instance is enabled*
* Awake() : *This function is always called before any Start functions and also just after a prefab  is instantiated.*
* Update() : called once per frame. 
* LateUpdate() : called once per frame, after all Update instruction have finished.
* FixedUpdate() :  It can be called multiple times per frame, if the frame rate is low and it may not be called between frames at all if the frame rate is high. All physics calculations and updates occur immediately after FixedUpdate. 

### Our Script
Since we dont count with an individual controller, all our interaction is going to be gazed-based. Meaning that in order to interact with an object you will have to stare at it.
<br /> The first thing we need to do is to include the *GvrReticlePointer* prefab and place it under the Main Camera object, this is a script that will give us a visual feedbak of our view direction <br /> . then we will create a Ray that will be casted from our camera origing looking for objects with a collider component on them that intersect our viewing directionand.


```csharp
//This code goes inside the update function

if (Physics.Raycast (Camera.main.transform.position, Camera.main.transform.forward, out objectOnView, max_Distance)) { //we perform a raycast every frame
			pointer.GetComponent<Renderer> ().material.color = Color.magenta;
		} else {
			pointer.GetComponent<Renderer> ().material.color = Color.white;
		}
```
All game objects have components inside them.
Components also have properties that we can easily access. A good guide to each component is the the Unity documentation.

**Here is the Unity Scripting documentation** : https://docs.unity3d.com/ScriptReference/


### Comunication between objects
#### Simple kinematics
Now lets make our objects spinn 
```csharp
   // To translate the object in in the y / green axis
   objectOnView.transform.Translate(Vector3.up * Time.deltaTime , Space.World);
   // We can also rotate objects
   objectOnView.transform.Rotate( Vector3.up * Time.deltaTime * 30);
```

#### Simple Dinamics
Lets put some gravity on our app.. first we need a floor :P. Otherwise our objects would fall forever <br />

* Lets add a Quad object
* Lets add rigidBodies to our models - disable use gravity (for now)
* Lets create a new script this time from the Project explorer - inside a Scripts folder



#### Object communication *SendMessage*
Now lets pass some orders to our objects
 * First - lets pass the message to just one object

    ```csharp
   objectOnView.collider.gameObject.SendMessage("MyOwnFunction");
    ```

 * Now lets reuse this Script for several objects - Unity scripts are reusable as long as the code inside them can be  the same for all the cases! :D - Instances of a class 
 

### A few things to try

* In your project you should have 5 objects. Implement a several cinematics examples on them, and customize them so that each one would have a different bevhaviour (one would rotate around a specific axis, other would translate, or scale in some direction.
* We can also store and access the amount of distance covered by a translation since the beginning of the app, create some thresholds so that after your model has moved Xm it starts returning to is original position.
* optional : Explore the Unity documentation function https://docs.unity3d.com/ScriptReference/Quaternion.FromToRotation.html, and create a unity script that makes all objects look in the direction of the camera at all time.


#### Deploy your app inside the editor

### If we have time - some debugging tools

### Scripts
* Names
* What happens if I change the name of my script (outside or insed the code)?
* Changes in scripts are applied to all the scenes.






